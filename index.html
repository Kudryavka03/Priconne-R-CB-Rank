<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>En Priconne R Clan Rank Query</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
    <style>
        html,body{
            font-size: 14px;
            font-family: 'Microsoft Yahei',Tahoma,Verdana,simsun,sans-serif;
        }
        table {width: 85%;margin: 30px auto;}
    </style>
</head>
<body>
    <table id="table" border="1">
        <caption>EN Server Priconne R Clan Battle Rank[1-3000]</caption>
        <caption>Ctrl + F to query data...</caption>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Clan</th>
                <th>Score</th>
                <th>Leader</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <script type="text/javascript">

          mtr = document.getElementById("table") ;

 

          //使用ajax加载csv文件的数据

          $.ajax({

                  url: "./Rank.csv",

                  success: function(result) {

                  frag = document.createDocumentFragment();

 

                  // 对csv文件的数据先以行分割

                  userList = result.split("\n");

               

                // 我们在对每一行以逗号作分割

                  for(i=1;i<userList.length;i++){

                  userary = userList[i].split(",");

                  tr = document.createElement("tr");

             

                    // 对每行的内容遍历到td标签去

                  for(j = 0;j<userary.length;j++){

                           td = document.createElement("td");

                           td.append(userary[j]);

                          tr.appendChild(td);

              }

             frag.appendChild(tr);

          }

          // 加载到web页面

           mtr.appendChild(frag);

     }

});

</script>
</body>
</html>
